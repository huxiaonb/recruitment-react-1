<style type="text/css">
    .flow-box{
        display: block;
        min-height: 90px;
        width: 100%;
        border-radius: 2px;
        overflow: auto;
    }
</style>

<div ng-controller="CompanyIntroductionController">
    <section class="content-header">
        <h1>
            {{pageTitle}}
        </h1>
        <ol class="breadcrumb">
            <li><a ui-sref="home"><i class="fa fa-dashboard"></i> Home</a></li>
            <li><a href="#">Dashboard</a></li>
            <li class="active">{{pageTitle}}</li>
        </ol>
    </section>
    <!-- Main content -->
    <section class="content" >
        <div class="row" style="margin-bottom: 10px;">
            <div class="col-md-3 col-sm-6 col-xs-12 col-md-offset-4">
                <select class="form-control" ng-model="segmentType" ng-options="o for o in allSegmentTypes track by o" ng-change="loadData()">
                </select>
            </div>
            <div class="text-right" style="margin-bottom: 5px;">
                <button class='btn btn-info' ng-click="createCompanyIntroduction()">创建</button>
                <button class='btn btn-primary' ng-click="changeCompanySegmentLayout()">布局转换</button>
            </div>
        </div>

        <div class="col-md-3 col-sm-6 col-xs-12" ng-if="!companyIntroductions[0].isFlow" ng-repeat="companyIntroduction in companyIntroductions">
            <div class="info-box" style="height: 736px;overflow: auto;">
                <span class="label label-success">{{companyIntroduction.sequence}}</span>
                <div class="box-tools pull-right">
                    <button type="button" ng-click="updateCompanyIntroduction(companyIntroduction)"
                            class="btn btn-box-tool" style="padding-right: 0px;"><i class="fa fa-fw fa-edit"></i>
                    </button>
                    <button type="button" ng-click="deleteCompanyIntroduction(companyIntroduction)"
                            class="btn btn-box-tool" style="padding-left: 0px;padding-right: 5px;"><i
                            class="fa fa-fw fa-trash-o"></i></button>
                </div>
                <div class="oocl" style="padding-top: 10px;">
                    <div class="container-con" >
                        <div class="container-con-hd">
                            <h2 class="oocl-title">{{companyIntroduction.title}}</h2>
                            <!--<p>{{companyIntroduction.subTitle}}</p>-->
                        </div>
                        <!--<h3 class="oocl-subTitle" >{{companyIntroduction.subTitle}}</h3>-->
                        <div class="container-con-bd" ng-bind-html="companyIntroduction.content|to_trusted">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3 col-sm-6 col-xs-12 col-md-offset-4" ng-if="companyIntroductions[0].isFlow" style="background-color: white;">
            <div class="flow-box" ng-repeat="companyIntroduction in companyIntroductions" ng-mouseenter="isEnter = true" ng-mouseleave="isEnter = false" ng-style="isEnter? {'background': '#fff','box-shadow':'0 1px 1px rgba(0,0,0,0.1)', border: '1px solid rgba(3, 12, 17, 0.21)'} :{}">
                <div class="oocl">
                    <div style="height: 23px;">
                        <span class="label label-success" ng-if="isEnter">{{companyIntroduction.sequence}}</span>
                        <div class="box-tools pull-right" ng-if="isEnter">
                            <button type="button" ng-click="updateCompanyIntroduction(companyIntroduction)"
                                    class="btn btn-box-tool" style="padding-right: 0px;padding-bottom: 0px;padding-top: 0px"><i class="fa fa-fw fa-edit"></i>
                            </button>
                            <button type="button" ng-click="deleteCompanyIntroduction(companyIntroduction)"
                                    class="btn btn-box-tool" style="padding-left: 0px;padding-right: 5px;padding-bottom: 0px;padding-top: 0px"><i
                                    class="fa fa-fw fa-trash-o"></i></button>
                        </div>
                    </div>
                    <div class="container-con" style="margin-top: 0px;">
                        <div class="container-con-hd" style="margin-top: 0px;">
                            <h2 class="oocl-title">{{companyIntroduction.title}}</h2>
                            <!--<p>{{companyIntroduction.subTitle}}</p>-->
                        </div>
                        <!--<h3 class="oocl-subTitle" >{{companyIntroduction.subTitle}}</h3>-->
                        <div class="container-con-bd" ng-bind-html="companyIntroduction.content|to_trusted">
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <toaster-container
                toaster-options="{'time-out': 3000, 'animation-class': 'geo-toast-top-right'}"></toaster-container>
    </section>
</div>
